(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[874],{4458:function(e,r,t){Promise.resolve().then(t.bind(t,1003))},1003:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return p}});var s=t(3827),a=t(2670);let n=e=>{let{control:r,errors:t,apiErrors:n}=e;return(0,s.jsxs)("div",{className:"username_input_wrapper",children:[(0,s.jsx)(a.Qr,{name:"name",control:r,defaultValue:"",rules:{required:!0},render:e=>{let{field:r}=e;return(0,s.jsx)("input",{...r,type:"text",placeholder:"пользователь",autoComplete:"off",className:t.name?"username_input username_error":"username_input"})}}),n&&(0,s.jsx)("p",{style:{color:"#FF3F25",fontSize:"13px"},children:n.name}),(null==t?void 0:t.name)&&(0,s.jsx)("p",{style:{color:"#FF3F25",fontSize:"13px"},children:"Please, provide correct username"})]})},o=e=>{let{control:r,errors:t,apiErrors:n}=e;return(0,s.jsxs)("div",{className:"password_input_wrapper",children:[(0,s.jsx)(a.Qr,{name:"password",control:r,defaultValue:"",rules:{required:!0},render:e=>{let{field:r}=e;return(0,s.jsx)("input",{...r,type:"text",placeholder:"пароль",autoComplete:"off",className:t.password?"password_input password_error":"password_input"})}}),n&&(0,s.jsx)("p",{style:{color:"#FF3F25",fontSize:"13px"},children:n.password}),(null==t?void 0:t.password)&&(0,s.jsx)("p",{style:{color:"#FF3F25",fontSize:"13px"},children:"Please, provide correct password"})]})};t(1100);var l=t(4090),i=t(2723),u=t(5313);let d=()=>{let[e,r]=(0,l.useState)(!1),t=(0,u.useRouter)(),{handleSubmit:d,control:p,formState:{errors:c,isValid:m}}=(0,a.cI)({mode:"all"}),[f,x]=(0,l.useState)({}),h=async e=>{let{name:s,password:a}=e;try{r(!0);let e=await fetch("/api/auth/login",{method:"POST",body:JSON.stringify({name:s,password:a})});403===e.status&&x({password:await e.text()}),404===e.status&&x({name:await e.text()}),e.ok&&t.replace("/admin")}catch(e){console.error(e)}finally{r(!1)}};return e?(0,s.jsx)(i.$,{}):(0,s.jsx)("div",{className:"admin_enter_wrapper",children:(0,s.jsxs)("form",{className:"admin_enter_form",onSubmit:d(h),id:"admin_enter_form",children:[(0,s.jsx)(n,{control:p,errors:c,apiErrors:f}),(0,s.jsx)(o,{control:p,errors:c,apiErrors:f}),(0,s.jsx)("input",{type:"submit",value:"Войти",disabled:!m,className:"submit_button"})]})})};var p=function(){let[e,r]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{r(!1)},[]),(0,s.jsx)(s.Fragment,{children:e?(0,s.jsx)(i.$,{}):(0,s.jsx)(d,{})})}},2723:function(e,r,t){"use strict";t.d(r,{$:function(){return n}});var s=t(3827),a=t(7175);t(6016);let n=()=>(0,s.jsx)(a.g4,{visible:!0,height:"80",width:"80",color:"#fda2ad",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:"spinner"})},1100:function(){},6016:function(){}},function(e){e.O(0,[571,500,971,69,744],function(){return e(e.s=4458)}),_N_E=e.O()}]);